<x2d version="1.0">
    
    <!-- engine setup -->
    <camera n="camera" frustum="320 480" />    
    <viewport n="viewport" box="0 0 320 480" camera="camera" bgcolor="0.2 0.2 0.6" />    
    <input n="input" accelerometer="false" touch="true" />

    <script n = "inline">
        <![CDATA[            
            function cb()
                x2d.log("event received in inline lua callback listener!")
            end
            
            -- listen locally too
            con = event.listen("test", cb)
            
            -- send the event
            event.send("test")
            
            -- disconnect the callback
            con:disconnect()
        ]]>
    </script>

    <script n = "inline2" value = "x2d.log('[Ref] Object is created!')" />
    <script n = "file" path = "res/scripts/first.lua" />
    
    <script n = "ref" ref = "file" />
    
    <!-- this object will log to console when created and destroyed -->
    <object n = "test">
        <script n = "on_create" ref = "inline2" />
        <script n = "on_destroy">
            event.send("test_die")
        </script>
        
        <float n = "lifetime">
            <random from = "1" to = "3" />
        </float>
    </object>
    
</x2d>
